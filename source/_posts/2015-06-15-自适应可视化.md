---
title: 自适应可视化
date: 2015.06.15
categories: 可视化
tags: [自适应,可视化,pm2.5]
---
## 自适应地图主要涉及四个方面的问题：
1）地图用户自适应（读图能力、知识水平、教育、喜好）
2）地图目的自适应（包括任务、空间扩展、要素相关性）
3）制图条件自适应（包括位置、时间、方位、环境）
4）地图显示媒介自适应（显示大小与参数、传输率、交互性、软件能力。
<!--more-->

## 专题地图
### 1)地图保存部分
需要保存的字段

|字段      |说明|
|----      |----|
|type      |地图类型|
|color     |颜色|
|attributes|数据带来的属性|
|fileds     |最终绘制所使用的字段|
|maxHeight |柱状图柱体符号最高值|
|maxWidth  |柱状图柱体符号最宽值|
|radius    |ring pie rank classify图的半径|
|rankField |rank图符号绘制所用的字段|
|gradeField| grade图符号绘制所用的字段|

### 2)无底图的图，比如pie、ring、bar，应该设置一个tag标识是否添加底图，默认值为true，添加一个纯色底图，是为了保存输出的时候能看出底图轮廓，在需要和别的底图混搭的时候，可以设置为false。
### 3)待改进的地方
1. 应该添加一个地图title，同时也应该在图上体现图名，并且应该可更改字体、颜色、大小
tag也可以考虑增加.
2. 数据也可以添加tag，目前的名称是提供的表格名字，后期可以提供用户修改
3. 可以添加一种标注图，用户只需提供地名表格，后端geocode后标注在地图上，展现的时候在地图边添加地图和地图上的标注的对照，提供拖拽功能让用户修改标注位置。这样的话就得依赖在线底图。
4. 实现在线底图也能保存在图片中。
5. 数据的详情页，应该可以编辑、保存
6. 支持excel格式数据

## 空气质量检测数据数据源

|数据源|数据状况|尺度|描述说明|
|---|---|---|--|
|[pm25.in](http://pm25.in)|实时api|城市-检测站点|API数据最详细，有检测站点的7个指标的数据。但是有的小时数据会缺失,基本每天都有几个小时的数据会缺失，不知道为什么，正常更新的话在7点45左右可以获取到7点钟发布的数据|
|[中国环境监测总站](http://106.37.208.233:20035/)|实时|城市-检测站点|这个是用silverlight开发的，所以要看数据电脑得安装silverlight，里面有每小时的全国监测站点的6个指标的数据。|
|[天气后报](http://www.tianqihoubao.com/aqi/) |实时+历史|实时有检测站点,历史只有城市级别|有实时的检测站点级别的数据，但是我看数据是从pm25.in来的,更新和pm25.in有一样的问题，可以从这获取按天的、城市级别的 **历史数据**，有6个指标，就是没有o3的数据，但是城市数量有点少，2014年只有150+个城市|
|[pm25和空气质量指数实时查询](http://www.cnpm25.cn/)|实时|站点|可以得到各个站点的实时数据,但是只有aqi、pm2.5、pm10三个指标，而且aqi数据并不是和环保部上的一致，好像是直接算的各个站点的平均值。|
|[环保部官方数据](http://datacenter.mep.gov.cn/report/air_daily/airDairyCityHour.jsp)|实时|城市-站点|有小时、天的367个城市的AQI指数、首要污染物数据。
|[世界范围内空气质量实时检测数据](http://aqicn.org/city/beijing/cn)|实时|城市-检测站点|有检测站点的数据，还有像气压、湿度等气象数据。但是上面的数据是包括了美国大使馆的数据，所以和官方的略有不同。需要用爬虫来收集.|
|[pm2.5数据网](http://www.pm25s.com/)|实时+部分历史|城市-检测站点|有检测站点级别的每小时的数据，也有历史数据，历史数据是按天和城市级别的，指标有7个，但是只有2014年1-10月的，估计是这个网站没有更新了。|
|[PM2.5历史数据](http://www.aqistudy.cn/historydata/index.php)|历史|城市|数据很全,可以爬取，并且有天气数据可以获取,是目前比较理想的数据源，唯一不足就是没有监测站点的数据和只有190个城市，因为2014年只有190个城市,所以它这里2015年也只有190个城市的数据|
|[中国空气质量在线检测分析平台](http://www.aqistudy.cn/)|实时和历史|城市-检测站点|和[PM2.5历史数据](http://www.aqistudy.cn/historydata/index.php)是同一个团队开发的,但是目前没法爬取|






